# ๐ค AI-ะััะธััะตะฝั ะดะปั ะกะฐะปะพะฝะฐ ะัะฐัะพัั

![Python](https://img.shields.io/badge/Python-3.10+-blue?style=flat-square&logo=python)
![FastAPI](https://img.shields.io/badge/FastAPI-0.115+-green?style=flat-square&logo=fastapi)
![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-orange?style=flat-square&logo=openai)
![Telegram](https://img.shields.io/badge/Telegram-Bot-blue?style=flat-square&logo=telegram)
![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)

ะะฝัะตะปะปะตะบััะฐะปัะฝัะน ะฐััะธััะตะฝั ะดะปั ัะฐะปะพะฝะพะฒ ะบัะฐัะพัั ั ะดะฒัะผั ะธะฝัะตััะตะนัะฐะผะธ: **Telegram-ะฑะพั** ะธ **ะฒะตะฑ-ัะฐั ะฒะธะดะถะตั**. ะัะฟะพะปัะทัะตั OpenAI Assistant API ะดะปั ะพะฑัะตะฝะธั ั ะบะปะธะตะฝัะฐะผะธ ะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะพััะฐะฝะตะฝะธั ะทะฐะฟะธัะตะน ะฒ Google ะขะฐะฑะปะธัั.

## โจ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- ๐ฌ **ะฃะผะฝัะน ะดะธะฐะปะพะณ** ั ะบะปะธะตะฝัะฐะผะธ ัะตัะตะท Telegram ะธะปะธ ะฒะตะฑ-ัะฐะนั
- ๐ **ะะฒัะพะผะฐัะธัะตัะบะฐั ะทะฐะฟะธัั** ะบะปะธะตะฝัะพะฒ ะฝะฐ ััะปัะณะธ
- ๐ **ะะฝัะตะณัะฐัะธั ั Google Sheets** ะดะปั ััะฐะฝะตะฝะธั ะทะฐะฟะธัะตะน
- ๐จ **ะะพัะพะฒัะน ะฒะตะฑ-ัะฐะนั** ัะฐะปะพะฝะฐ ะบัะฐัะพัั ั ัะฐั-ะฒะธะดะถะตัะพะผ
- ๐ **ะะดะธะฝะฐั ัะธััะตะผะฐ** ัะฟัะฐะฒะปะตะฝะธั ะทะฐะฟะธััะผะธ ะธะท ัะฐะทะฝัั ะธััะพัะฝะธะบะพะฒ

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โ    โ   Web Widget    โ    โ  OpenAI Assistantโ
โ                 โ    โ                 โ    โ                  โ
โ  โข Polling      โ    โ  โข REST API     โ    โ  โข GPT-4         โ
โ  โข Commands     โโโโโบโ  โข FastAPI      โโโโโบโ  โข Tools API     โ
โ  โข Messages     โ    โ  โข CORS         โ    โ  โข Conversations โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                                 โผ
                    โโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Google Sheets     โ
                    โ                     โ
                    โ  โข ะะฐะฟะธัะธ ะบะปะธะตะฝัะพะฒ  โ
                    โ  โข ะััะพัะธั          โ
                    โ  โข ะััะตัะฝะพััั       โ
                    โโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Python 3.10+** - ะพัะฝะพะฒะฝะพะน ัะทัะบ
- **FastAPI** - ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั API
- **python-telegram-bot** - Telegram Bot API
- **OpenAI Python SDK** - ะธะฝัะตะณัะฐัะธั ั GPT
- **gspread** - ัะฐะฑะพัะฐ ั Google Sheets

### Frontend
- **Vanilla JavaScript** - ัะฐั-ะฒะธะดะถะตั
- **HTML/CSS** - ะฐะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ
- **REST API** - ัะฒัะทั ั ะฑัะบะตะฝะดะพะผ

### ะะฝัะตะณัะฐัะธะธ
- **OpenAI Assistant API** - ะะ-ะดะธะฐะปะพะณะธ
- **Google Sheets API** - ััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั
- **Telegram Bot API** - ะผะตััะตะฝะดะถะตั

## ๐ ะัััััะน ััะฐัั

### 1. ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone https://github.com/your-username/ai-beauty-assistant.git
cd ai-beauty-assistant

# ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
python3 -m venv .venv
source .venv/bin/activate  # macOS/Linux
# .venv\Scripts\activate   # Windows

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

```env
# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ASSISTANT_ID=asst_your-assistant-id

# Telegram Bot
TG_BOT_TOKEN=your-telegram-bot-token

# Google Sheets Integration
GOOGLE_SERVICE_ACCOUNT_FILE=path/to/service-account.json
GOOGLE_SHEETS_SPREADSHEET_ID=your-spreadsheet-id
GOOGLE_SHEETS_WORKSHEET=ะะฐะฟะธัะธ  # ะฝะตะพะฑัะทะฐัะตะปัะฝะพ

# Optional
GOOGLE_SERVICE_ACCOUNT=service-account@project.iam.gserviceaccount.com
```

### 3. ะะฐัััะพะนะบะฐ Google Sheets

1. ะกะพะทะดะฐะนัะต ะฟัะพะตะบั ะฒ [Google Cloud Console](https://console.cloud.google.com/)
2. ะะบะปััะธัะต Google Sheets API ะธ Google Drive API
3. ะกะพะทะดะฐะนัะต ัะตัะฒะธัะฝัะน ะฐะบะบะฐัะฝั ะธ ัะบะฐัะฐะนัะต JSON-ะบะปัั
4. ะกะพะทะดะฐะนัะต Google ะขะฐะฑะปะธัั ะธ ะฟัะตะดะพััะฐะฒััะต ะดะพัััะฟ ัะตัะฒะธัะฝะพะผั ะฐะบะบะฐัะฝัั
5. ะกะบะพะฟะธััะนัะต ID ัะฐะฑะปะธัั ะธะท URL

### 4. ะะฐัััะพะนะบะฐ OpenAI Assistant

1. ะะพะนะดะธัะต ะฒ [OpenAI Platform](https://platform.openai.com/)
2. ะกะพะทะดะฐะนัะต ะฝะพะฒะพะณะพ Assistant ั ะธะฝััััะผะตะฝัะพะผ:

```json
{
  "name": "save_booking_data",
  "description": "ะกะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะทะฐะฟะธัะธ ะบะปะธะตะฝัะฐ ะฒ Google ะขะฐะฑะปะธัั",
  "parameters": {
    "type": "object",
    "properties": {
      "name": {"type": "string", "description": "ะะผั ะบะปะธะตะฝัะฐ"},
      "phone": {"type": "string", "description": "ะขะตะปะตัะพะฝ ะบะปะธะตะฝัะฐ"},
      "service": {"type": "string", "description": "ะัะฑัะฐะฝะฝะฐั ััะปัะณะฐ"},
      "datetime": {"type": "string", "description": "ะะฐัะฐ ะธ ะฒัะตะผั ะทะฐะฟะธัะธ"},
      "master_category": {"type": "string", "description": "ะะฐัะตะณะพัะธั ะผะฐััะตัะฐ"},
      "comments": {"type": "string", "description": "ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะบะพะผะผะตะฝัะฐัะธะธ"}
    },
    "required": ["name", "phone", "service", "datetime"]
  }
}
```

### 5. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

#### Telegram Bot
```bash
python bot.py
```

#### ะะตะฑ-ัะตัะฒะตั (FastAPI)
```bash
# ะะฐะฟััะบ ะปะพะบะฐะปัะฝะพ
uvicorn server:app --host 0.0.0.0 --port 8000

# ะะปะธ ัะตัะตะท ัะฐัะบ (ะตัะปะธ ะฝะฐัััะพะตะฝ)
# ะัะฟะพะปัะทัะนัะต VS Code Task: "Run FastAPI backend (uvicorn)"
```

#### ะะตะฑ-ัะฐะนั
ะัะบัะพะนัะต `index.html` ะฒ ะฑัะฐัะทะตัะต ะธะปะธ ัะฐะทะฒะตัะฝะธัะต ะฝะฐ ะฒะตะฑ-ัะตัะฒะตัะต.

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### Telegram Bot
1. ะะฐะนะดะธัะต ะฑะพัะฐ ะฟะพ ะธะผะตะฝะธ ะฒ Telegram
2. ะัะฟัะฐะฒััะต `/start` ะดะปั ะฝะฐัะฐะปะฐ ะดะธะฐะปะพะณะฐ
3. ะะฑัะฐะนัะตัั ั ะฑะพัะพะผ ะฝะฐ ะตััะตััะฒะตะฝะฝะพะผ ัะทัะบะต
4. ะะพั ะฟะพะผะพะถะตั ะทะฐะฟะธัะฐัััั ะฝะฐ ััะปัะณะธ

### ะะตะฑ-ัะฐั
1. ะัะบัะพะนัะต ัะฐะนั ัะฐะปะพะฝะฐ (`index.html`)
2. ะะฐะถะผะธัะต ะบะฝะพะฟะบั "ะงะฐั" ะฒ ะฟัะฐะฒะพะผ ะฝะธะถะฝะตะผ ัะณะปั
3. ะะฑัะฐะนัะตัั ั ะฐััะธััะตะฝัะพะผ ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั

## ๐ API Endpoints

### POST `/chat/start`
ะกะพะทะดะฐะตั ะฝะพะฒัั ัะตััะธั ัะฐัะฐ
```json
Response: {"sessionId": "uuid"}
```

### POST `/chat/message`
ะัะฟัะฐะฒะปัะตั ัะพะพะฑัะตะฝะธะต ะฐััะธััะตะฝัั
```json
Request: {"sessionId": "uuid", "text": "ะฅะพัั ะทะฐะฟะธัะฐัััั ะฝะฐ ัััะธะถะบั"}
Response: {"reply": "ะะพะฝะตัะฝะพ! ะะฐ ะบะฐะบะพะต ะฒัะตะผั ัะพัะตะปะธ ะฑั ะทะฐะฟะธัะฐัััั?"}
```

## ๐ ะกัััะบัััะฐ ะดะฐะฝะฝัั ะฒ Google Sheets

| Timestamp | Name | Phone | Service | Datetime | Master Category | Comments |
|-----------|------|--------|---------|----------|----------------|----------|
| 2025-01-15T10:30:00 | ะะฝะฝะฐ | +7999... | ะกััะธะถะบะฐ | 2025-01-20 14:00 | ะขะพะฟ-ััะธะปะธัั | ะะปะธะฝะฝัะต ะฒะพะปะพัั |

## ๐จ ะะตะผะพ-ัะฐะนั

ะ ะฟัะพะตะบัะต ะฒะบะปััะตะฝ ะณะพัะพะฒัะน ัะฐะนั ัะฐะปะพะฝะฐ ะบัะฐัะพัั (`index.html`) ั:
- ๐ ะะปะฐะฒะฝะพะน ัััะฐะฝะธัะตะน
- ๐ ะะฐัะฐะปะพะณะพะผ ััะปัะณ  
- ๐ฐ ะัะฐะนั-ะปะธััะพะผ
- ๐ผ๏ธ ะะฐะปะตัะตะตะน ัะฐะฑะพั
- ๐ ะะพะฝัะฐะบัะฐะผะธ
- ๐ฌ ะัััะพะตะฝะฝัะผ ัะฐั-ะฒะธะดะถะตัะพะผ

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะฐัััะพะนะบะฐ ะฒะตะฑ-ัะฐัะฐ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ

ะะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ ะฟัะพะดะฐะบัะตะฝะต ะธะทะผะตะฝะธัะต URL ะฑัะบะตะฝะดะฐ ะฒ `index.html`:

```javascript
// ะะฐะผะตะฝะธัะต ะฝะฐ ะฒะฐั ะฟัะฑะปะธัะฝัะน ะดะพะผะตะฝ
const BACKEND_URL = 'https://your-domain.com';
```

ะะปะธ ะธัะฟะพะปัะทัะนัะต ััะฝะฝะตะปั ะดะปั ัะฐะทัะฐะฑะพัะบะธ:
```bash
# ngrok
ngrok http 8000

# cloudflare tunnel  
cloudflared tunnel --url http://localhost:8000
```

### CORS ะฝะฐัััะพะนะบะธ

ะ `server.py` ะฝะฐัััะพะนัะต CORS ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ:

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://your-domain.com"],  # ัะบะฐะถะธัะต ะดะพะผะตะฝ
    allow_credentials=True,
    allow_methods=["GET", "POST"],
    allow_headers=["*"],
)
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
ai-beauty-assistant/
โโโ ๐ README.md           # ะะพะบัะผะตะฝัะฐัะธั
โโโ ๐ค bot.py             # Telegram Bot
โโโ ๐ server.py          # FastAPI ะฒะตะฑ-ัะตัะฒะตั  
โโโ ๐จ index.html         # ะกะฐะนั ัะฐะปะพะฝะฐ + ัะฐั
โโโ ๐ requirements.txt   # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ .env              # ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
โโโ ๐ data/             # ะะพะบะฐะปัะฝัะต ะดะฐะฝะฝัะต
โ   โโโ threads.json     # ะกะตััะธะธ Telegram
โ   โโโ web_threads.json # ะกะตััะธะธ ะฒะตะฑ-ัะฐัะฐ
โโโ ๐ฆ app/             # ะะพะดัะปะธ ะฟัะธะปะพะถะตะฝะธั
    โโโ assistants.py   # OpenAI Assistant
    โโโ config.py       # ะะพะฝัะธะณััะฐัะธั
    โโโ sheets_tool.py  # Google Sheets
    โโโ thread_store.py # ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััะธัะผะธ
```

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature-ะฒะตัะบั (`git checkout -b feature/amazing-feature`)
3. Commit ะธะทะผะตะฝะตะฝะธั (`git commit -m 'Add amazing feature'`)
4. Push ะฒ ะฒะตัะบั (`git push origin feature/amazing-feature`)
5. ะัะบัะพะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT. ะกะผ. ัะฐะนะป `LICENSE` ะดะปั ะฟะพะดัะพะฑะฝะพััะตะน.

## ๐จโ๐ป ะะฒัะพั

**Yury** - [GitHub Profile](https://github.com/ykres)

---

โญ ะะพััะฐะฒััะต ะทะฒะตะทะดั, ะตัะปะธ ะฟัะพะตะบั ะฑัะป ะฟะพะปะตะทะตะฝ!
